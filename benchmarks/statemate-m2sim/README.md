# Statemate Benchmark for M2Sim

Bare-metal port of the Embench-IoT statemate benchmark for M2Sim.

## Description

Statemate simulates a car window lift control system, generated by the
STARC (STAtechart Real-time-Code) generator. It exercises state machine
transitions, integer arithmetic, and array/memory operations.

**Key feature:** Uses `#define float int` to avoid FPU operations,
making it pure integer arithmetic.

## Building

```bash
./build.sh
```

Produces `statemate_m2sim.elf` for M2Sim emulation.

## Source

From Embench-IoT: `src/statemate/libstatemate.c`

**Local modifications (`statemate.c`):**
- Floating-point literal comparisons converted to integer (0.5 → 1, 0.002 → 0)
- Required because M2Sim doesn't support scalar FP instructions
- Verification may fail due to changed timing thresholds

## Characteristics

- State machine controller
- Integer arithmetic only
- Uses memset/memcpy from string.h
- Scale factor: 1964 iterations
- No heap allocation required
- ~1.04M instructions executed
